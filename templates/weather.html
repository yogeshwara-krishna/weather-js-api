<html>
    <title>Weather</title>
<!--    <link href="{{ url_for('static',filename='style.css')}}" rel="stylesheet" type="text/css">-->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</html>
<body>
    <div id ="title">WEATHER APP</div>
    <br/>
    <form id="form" method="post" class="col-md-6 col-md-offset-3 " onsubmit="show_weather();return false;">
        <label for="city">Enter City</label>
        <input type="text" id="city" name="city">
        <input type="submit" value="Submit"><br>
    </form>
    <table class="table table-bordered table-sm">
        <thead class="thead-dark">
            <tr>
                <th>city</th>
                <th>weather description</th>
                <th>temperature(in kelvin)</th>

            </tr>
        </thead>
        <thead class="thead-light">
            <tr id="data">

            </tr>
        </thead>
    </table>

    
    

    
</body>
<script src="http://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script>

    function show_weather(){
    console.log("inside js fn")
    var city=$("city").val();
    var city=document.getElementById("city").value;
    $.getJSON("/api/weather",{"city":city},function(result){
    console.log(result);
    });

    var data_html = `<td ><p>`+city+`</p></td>
    <td><p>`+result[0]+`</p></td>
    <td><p>`+result[1]+`</p></td>
    `;

    $("#data").html(data_html);

    }
</script>
</html>